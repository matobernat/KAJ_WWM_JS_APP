{"mappings":"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","sources":["src/js/modules/Users.js","src/js/modules/Login.js","src/js/modules/Orders.js","src/js/modules/Dashboard.js","src/js/app.js","src/js/modules/Navigation.js"],"sourcesContent":["const Permissions = {\n    admin: \"admin\",\n    user: \"user\",\n    none: \"none\",\n}\n\nconst errorUser = [{\n    login: \"error\",\n    password: \"error\",\n    permissions: Permissions.none,\n    logged: false\n}]\n\nconst users = [{\n    login: \"manager\",\n    password: \"haha\",\n    permissions: Permissions.admin,\n    logged: false\n}, {\n    login: \"worker\",\n    password: \"haha\",\n    permissions: Permissions.user,\n    logged: false\n}\n]\n\n\nconst usersKey = \"Users\"\n\nexport class Users {\n    permissions = Permissions\n\n    init() {\n        if (!localStorage.getItem(usersKey)) {\n            localStorage.setItem(usersKey, JSON.stringify(users))\n        }\n    }\n\n    getUsers() {\n        if (!localStorage.getItem(usersKey)) {\n            console.log(\"login ERROR\")\n            return errorUser\n        } else {\n            return JSON.parse(localStorage.getItem(usersKey))\n        }\n    }\n\n\n    putUsers(users) {\n        localStorage.setItem(ordersKey, JSON.stringify(orders))\n        if (users == this.getUsers()) {\n            return true\n        }\n        return false\n    }\n\n    authenticate(login, password) {\n        if (!localStorage.getItem(usersKey)) {\n            console.log(\"login ERROR\")\n            return Permissions.none\n        }\n\n        let storedUsers = JSON.parse(localStorage.getItem(usersKey))\n        let logged = storedUsers.filter(user => {\n            if (user.login == login && user.password == password) {\n                user.logged = true\n                return true\n            }\n            return false\n        })\n        if (logged.length > 0) {\n            return logged[0].permissions\n        }\n        return Permissions.none\n    }\n\n\n}\n\n\n","import {Users} from \"./Users\";\n\nexport class Login {\n    users = new Users();\n\n    handleMenu() {\n        const loginForm = document.querySelector('#login form');\n\n        this.hideMenu()\n\n\n        loginForm.addEventListener('submit', (e) => {\n            let login = e.target[0].value\n            let password = e.target[1].value\n            let permissions = this.users.authenticate(login, password)\n            if (permissions == this.users.permissions.none) {\n                window.alert(\"wrong password or login\")\n            } else {\n                console.log(\"LOGIN permissions: \", permissions)\n                window.location.hash = '#dashboard';\n                this.showMenu()\n            }\n        });\n    }\n\n    hideMenu() {\n        const menu = document.querySelector('aside');\n        menu.classList.add('hide');\n    }\n\n    showMenu() {\n        const menu = document.querySelector('aside');\n        menu.classList.remove('hide');\n    }\n\n}\n","const ProductName = {\n    OversizedBlackShirt: \"Oversized Black Shirt\",\n    OversizedWhiteShirt: \"Oversized White Shirt\",\n    BlackPants: \"Black Pants\",\n    WhitePants: \"White Pants\",\n}\n\nconst Size = {\n    XL: \"XL\",\n    L: \"L\",\n    M: \"M\",\n    S: \"S\"\n}\n\nconst Icon = {\n    TshirtBlack: 't-shirt',\n    PantsWhite: 'clothes-pants-sweat'\n}\n\nconst orders = [{\n    name: ProductName.OversizedBlackShirt,\n    size: Size.XL,\n    daysLeft: 10,\n    checked: true,\n    icon: Icon.TshirtBlack\n}, {\n    name: ProductName.OversizedBlackShirt,\n    size: Size.XL,\n    daysLeft: 10,\n    checked: false,\n    icon: Icon.TshirtBlack\n}, {\n    name: ProductName.OversizedWhiteShirt,\n    size: Size.XL,\n    daysLeft: 15,\n    checked: false,\n    icon: Icon.PantsWhite\n}, {\n    name: ProductName.OversizedWhiteShirt,\n    size: Size.L,\n    daysLeft: 15,\n    checked: false,\n    icon: Icon.TshirtBlack\n}, {\n    name: ProductName.WhitePants,\n    size: Size.L,\n    daysLeft: 20,\n    checked: false,\n    icon: Icon.PantsWhite\n}\n]\n\nconst ordersKey = \"Orders\"\n\nexport class Orders {\n    init() {\n        let ordersToRender = orders;\n        if (!localStorage.getItem(ordersKey)) {\n            localStorage.setItem(ordersKey, JSON.stringify(orders))\n        } else {\n            ordersToRender = JSON.parse(localStorage.getItem(ordersKey))\n        }\n\n        this.createList(ordersToRender)\n    }\n\n    getOrdersData() {\n        if (!localStorage.getItem(ordersKey)) {\n            console.log(\"DATABASE ERROR key: \", ordersKey)\n            return \"404 ERROR \" + ordersKey;\n        } else {\n            return JSON.parse(localStorage.getItem(ordersKey))\n        }\n    }\n\n    putOrdersData() {\n        let mockOrder = {\n            name: ProductName.OversizedBlackShirt,\n            size: Size.XL,\n            daysLeft: 10,\n            checked: true,\n            icon: Icon.TshirtBlack\n        }\n        let data = this.getOrdersData()\n        data.append(mockOrder)\n\n        localStorage.setItem(ordersKey, JSON.stringify(orders))\n        return this.getOrdersData()\n\n    }\n\n    getFinishedOrdersRatio() {\n        let data = this.getOrdersData()\n        let finished = 0\n        let unfinished = 0\n        data.forEach((item) => {\n            item.checked ? finished += 1 : unfinished += 1\n        })\n        return finished / (finished + unfinished) * 100\n    }\n\n    // rendering function\n    createList(ordersToRender) {\n        const ordersList = document.querySelector(\"#orders-list\")\n        ordersList.innerHTML = '';\n\n        ordersToRender.map((order, key) => {\n                const checkbox = document.createElement(\"div\");\n                checkbox.classList.add('checkbox')\n                checkbox.classList.toggle('checked', order.checked)\n                checkbox.innerHTML = 'checkbox';\n                checkbox.addEventListener(\"click\", () => {\n                    console.log(\"checkbox clicked\", order)\n                })\n                const orderTemplate = `\n                    <div class=\"icon\">\n                        <span class=\"iconify\" \n                        data-icon=\"icon-park-solid:${order.icon}\"></span>\n                    </div>\n                    <div class=\"name\">${order.name}</div>\n                    <div class=\"size\">${order.size}</div>\n                    <div class=\"daysLeft\">${order.daysLeft} days left</div>\n                `\n                const orderElement = document.createElement('li');\n                orderElement.insertAdjacentHTML('beforeend', orderTemplate);\n                orderElement.append(checkbox)\n\n                ordersList.append(orderElement)\n            }\n        )\n    }\n}\n\n\n","import {Orders} from \"./Orders\";\n\nexport class Dashboard {\n    ordersFunctions = new Orders();\n\n    renderCharts() {\n        console.log(\"rendering charts\")\n        const container = document.querySelector(\"#svg-container-div\")\n        var svg = this.getNode(\"svg\");\n        container.appendChild(svg);\n\n        // var r = this.getNode('rect', {x: 10, y: 10, width: 100, height: 20, fill: '#ff00ff'});\n        // svg.appendChild(r);\n\n        var r = this.getNode('rect', {\n            x: 20,\n            y: 40,\n            width: 100,\n            height: 40,\n            rx: 8,\n            ry: 8,\n            fill: 'pink',\n            stroke: 'purple',\n            strokeWidth: 7\n        });\n        svg.appendChild(r);\n\n    }\n\n    getNode(n, v) {\n        n = document.createElementNS(\"http://www.w3.org/2000/svg\", n);\n        for (var p in v)\n            n.setAttributeNS(null, p.replace(/[A-Z]/g, function (m, p, o, s) {\n                return \"-\" + m.toLowerCase();\n            }), v[p]);\n        return n\n    }\n\n\n    resetProgressBars() {\n        let progressBars = document.querySelectorAll('[id*=\"progress-bar\"]');\n\n\n        progressBars.forEach((item) => {\n            console.log(item)\n            item.style.backgroundColor = \"red\";\n        })\n        // progressBars.style.backgroundColor = \"red\"\n    }\n\n    setProgressBars() {\n        let progressBars = document.querySelectorAll('[id*=\"progress-bar\"]');\n        let ratio = this.ordersFunctions.getFinishedOrdersRatio()\n\n        progressBars.forEach((item) => {\n            console.log(item)\n            item.style.width = `${ratio}%`;\n            item.style.backgroundColor = ratio < 30 ? 'red' : \"green\";\n        })\n        // progressBars.style.backgroundColor = \"red\"\n    }\n\n\n}\n\n\n","import {Login} from './modules/Login';\nimport {Orders} from './modules/Orders';\nimport {Users} from \"./modules/Users\";\nimport {Navigation} from \"./modules/Navigation\";\nimport {Dashboard} from \"./modules/Dashboard\";\n\nconst loginFunctions = new Login();\nconst ordersFunctions = new Orders();\nconst usersFunctions = new Users();\nconst navigationFunctions = new Navigation();\nconst DashboardFunctions = new Dashboard();\n\nwindow.onload = () => {\n    window.location.hash = 'login';\n    navigationFunctions.handleChanges();\n    usersFunctions.init();\n    loginFunctions.handleMenu();\n    ordersFunctions.init();\n\n};\n","import {Users} from \"./Users\";\nimport {Login} from \"./Login\";\nimport {Dashboard} from \"./Dashboard\";\n\nexport class Navigation {\n    // users = new Users();\n    login = new Login();\n    dashboard = new Dashboard();\n\n    handleChanges() {\n\n        // whole link changes\n        // window.addEventListener('locationchange', function () {\n        //     console.log('location changed!');\n        // });\n\n        // hash changes\n        window.addEventListener('hashchange', (e) => {\n\n            console.log('hash changed!', e.oldURL, e.newURL, typeof (e.newURL));\n\n            this.handleMenu(e.newURL);\n            this.handleDashboard(e.newURL);\n        })\n\n\n    }\n\n    handleMenu(url) {\n        if (url.includes(\"login\")) this.login.hideMenu();\n        if (!url.includes(\"login\")) this.login.showMenu();\n    }\n\n    handleDashboard(url) {\n        if (url.includes(\"dashboard\")) {\n            console.log(\"entered DASHBOARD!\")\n            this.dashboard.setProgressBars()\n            // this.dashboard.renderCharts();\n        } else {\n            this.dashboard.resetProgressBars()\n        }\n    }\n\n\n}\n"],"names":["$93af7cca82b79f0d$var$Permissions","admin","user","none","$93af7cca82b79f0d$var$errorUser","login","password","permissions","logged","$93af7cca82b79f0d$var$users","$93af7cca82b79f0d$export$a69f017b19597ff5","init","localStorage","getItem","setItem","JSON","stringify","getUsers","parse","console","log","putUsers","users1","ordersKey","orders","this","authenticate","filter","length","$0b646e4d019d8890$export$21a94553ffa41578","users","handleMenu","loginForm","document","querySelector","hideMenu","addEventListener","e","target","value","window","alert","location","hash","showMenu","classList","add","remove","$2a1a0029cdaa0261$var$ProductName","$2a1a0029cdaa0261$var$Size","$2a1a0029cdaa0261$var$Icon","$2a1a0029cdaa0261$var$orders","name","size","daysLeft","checked","icon","$2a1a0029cdaa0261$export$ed0df17bf864fd7b","ordersToRender","createList","getOrdersData","putOrdersData","mockOrder","append","getFinishedOrdersRatio","data","finished","unfinished","forEach","item","ordersList","innerHTML","map","order","key","checkbox","createElement","toggle","orderTemplate","orderElement","insertAdjacentHTML","$82b4f557adf77e55$export$fe82a520fc33e5f4","ordersFunctions","renderCharts","container","svg","getNode","appendChild","r","x","y","width","height","rx","ry","fill","stroke","strokeWidth","n","v","p","createElementNS","setAttributeNS","replace","m","o","s","toLowerCase","resetProgressBars","querySelectorAll","style","backgroundColor","setProgressBars","progressBars","ratio","$388b617130f03bd4$var$loginFunctions","$388b617130f03bd4$var$ordersFunctions","$388b617130f03bd4$var$usersFunctions","$388b617130f03bd4$var$navigationFunctions","dashboard","handleChanges","oldURL","newURL","handleDashboard","url","includes","onload"],"version":3,"file":"index.9da12ad3.js.map"}